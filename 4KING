local ReplicatedStorage = game:GetService("ReplicatedStorage")
local DYHUB_1 = ReplicatedStorage.GiveItemAll
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local reviveEvent = ReplicatedStorage:WaitForChild("ReviveSystem"):WaitForChild("Event")

local autoRespawn = false

local itemName = ""
local itemAmount = 0

local function GiveItem(name, amount)
    DYHUB_1:FireServer(name, amount)
end

local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Confirmed = false
WindUI:Popup({
    Title = "Nigga Script Loader",
    Icon = "user",
    IconThemed = true,
    Content = "สคริปเกมกาก By กูเอง",
    Buttons = {
        { Title = "Cancel", Variant = "Secondary", Callback = function() end },
        { Title = "Continue", Icon = "arrow-right", Callback = function() Confirmed = true end, Variant = "Primary" }
    }
})
repeat task.wait() until Confirmed

local Window = WindUI:CreateWindow({
    Title = "สคริปพ่องตาย",
    IconThemed = true,
    Icon = "user",
    Author = "By กูเอง",
    Size = UDim2.fromOffset(500, 300),
    Transparent = true,
    Theme = "Dark",
})

Window:EditOpenButton({
    Title = "เปิด UI ไอควาย",
    Icon = "monitor",
    CornerRadius = UDim.new(0, 6),
    StrokeThickness = 2,
    Color = ColorSequence.new(Color3.fromRGB(30, 30, 30), Color3.fromRGB(255, 255, 255)),
    Draggable = true,
})

-- Tabs
local MainTab = Window:Tab({ Title = "Main", Icon = "rocket" })
local FTab = Window:Tab({ Title = "Feature", Icon = "sword" })

MainTab:Input({
    Title = "ชื่อของ",
    Placeholder = "เขียนชื่อไอเทมนะจุ",
    Callback = function(text)
        itemName = text
    end,
})

MainTab:Input({
    Title = "จำนวน",
    Placeholder = "จำนวนที่ต้องการฮือ",
    Callback = function(text)
        itemAmount = tonumber(text) or 0
    end,
})

MainTab:Button({
    Title = "เสก",
    Icon = "gift",
    Callback = function()
        if itemName ~= "" and itemAmount > 0 then
            GiveItem(itemName, itemAmount)
            print("[NIGGA] Given", itemAmount, itemName)
        else
            print("[NIGGA] Please enter a valid item name and amount")
        end
    end,
})

FTab:Toggle({
    Title = "เกิดเอง อัตโนมัติ",
    Default = false,
    Callback = function(state)
        autoRespawn = state
        if autoRespawn then
            spawn(function()
                while autoRespawn do
                    local args = {
                        "Respawn",
                        player
                    }
                    reviveEvent:FireServer(unpack(args))
                    wait(3)
                end
            end)
        end
    end
})

FTab:Button({
    Title = "เกิดเอง",
    Icon = "gift",
    Callback = function()
        local player = game.Players.LocalPlayer
        local args = {
            "Respawn",
            player
        }
        game.ReplicatedStorage:WaitForChild("ReviveSystem"):WaitForChild("Event"):FireServer(unpack(args))
    end
})
